<section class="my-itinerary-page">
  <article>
    <h2>{{ 'MY_ITINERARY_ARTICLE_TITLE' | translate }}</h2>
    <p>{{ 'MY_ITINERARY_ARTICLE_PARAGRAPH_1' | translate }}</p>
  </article>

  <section class="buttons">
    <button (click)="showPopup = true" class="primary-button">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M11.456,2.75 C9.815,2.75 8.65,2.751 7.755,2.856 C6.876,2.958 6.355,3.152 5.96,3.47 C5.78,3.615 5.615,3.78 5.47,3.96 C5.152,4.355 4.958,4.876 4.856,5.755 C4.751,6.65 4.75,7.815 4.75,9.456 L4.75,13 C4.75,13.414 4.414,13.75 4,13.75 C3.586,13.75 3.25,13.414 3.25,13 L3.25,9.408 C3.25,7.826 3.25,6.573 3.366,5.581 C3.485,4.563 3.734,3.723 4.302,3.019 C4.515,2.755 4.755,2.515 5.019,2.302 C5.723,1.734 6.562,1.485 7.581,1.366 C8.573,1.25 9.826,1.25 11.408,1.25 L11.456,1.25 L11.56,1.25 C12.163,1.25 12.64,1.249 13.087,1.407 C13.179,1.439 13.27,1.477 13.358,1.519 C13.786,1.724 14.122,2.061 14.548,2.488 L14.622,2.562 L19.359,7.298 L19.444,7.384 C19.939,7.877 20.33,8.268 20.541,8.776 C20.751,9.284 20.751,9.837 20.75,10.535 L20.75,10.536 L20.75,10.657 L20.75,13 C20.75,13.414 20.414,13.75 20,13.75 C19.586,13.75 19.25,13.414 19.25,13 L19.25,10.657 C19.25,10.219 19.247,9.942 19.233,9.75 L18.945,9.75 C17.577,9.75 16.475,9.75 15.608,9.634 C14.708,9.513 13.95,9.254 13.348,8.652 C12.746,8.05 12.488,7.292 12.366,6.392 C12.25,5.525 12.25,4.423 12.25,3.055 L12.25,2.763 C12.083,2.753 11.842,2.75 11.456,2.75 Z M10.25,15.25 L11.75,15.25 C13.269,15.25 14.5,16.481 14.5,18 L14.5,20 C14.5,21.519 13.269,22.75 11.75,22.75 L10.25,22.75 C9.836,22.75 9.5,22.414 9.5,22 L9.5,16 C9.5,15.586 9.836,15.25 10.25,15.25 Z M4.25,15.25 L6,15.25 C7.381,15.25 8.5,16.369 8.5,17.75 C8.5,19.131 7.381,20.25 6,20.25 L5,20.25 L5,22 C5,22.414 4.664,22.75 4.25,22.75 C3.836,22.75 3.5,22.414 3.5,22 L3.5,16 C3.5,15.586 3.836,15.25 4.25,15.25 Z M17.25,15.25 L19.75,15.25 C20.164,15.25 20.5,15.586 20.5,16 C20.5,16.414 20.164,16.75 19.75,16.75 L17.25,16.75 C17.112,16.75 17,16.862 17,17 L17,18.25 L19.25,18.25 C19.664,18.25 20,18.586 20,19 C20,19.414 19.664,19.75 19.25,19.75 L17,19.75 L17,22 C17,22.414 16.664,22.75 16.25,22.75 C15.836,22.75 15.5,22.414 15.5,22 L15.5,17 C15.5,16.034 16.284,15.25 17.25,15.25 Z M13.853,6.192 C13.952,6.926 14.132,7.314 14.409,7.591 C14.686,7.868 15.074,8.048 15.808,8.147 C16.412,8.228 17.174,8.245 18.188,8.249 L13.751,3.812 C13.755,4.827 13.772,5.588 13.853,6.192 Z M11,21.25 L11.75,21.25 C12.44,21.25 13,20.69 13,20 L13,18 C13,17.31 12.44,16.75 11.75,16.75 L11,16.75 Z M6,18.75 C6.552,18.75 7,18.302 7,17.75 C7,17.198 6.552,16.75 6,16.75 L5,16.75 L5,18.75 Z" />
      </svg>
      {{ 'GENERATE_ITINERARY' | translate }}
    </button>
    <button (click)="clearItinerary()" class="tertiary-button">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M21.545,2.454 C21.847,2.738 21.861,3.212 21.577,3.514 L14.042,11.521 C14.302,11.792 14.524,12.067 14.653,12.417 C14.826,12.886 14.788,13.319 14.747,13.789 L14.74,13.872 C14.51,16.546 13.594,18.468 12.719,19.728 C12.283,20.357 11.859,20.819 11.539,21.128 C11.378,21.282 11.244,21.399 11.146,21.479 C11.097,21.519 11.057,21.55 11.028,21.572 C11.013,21.583 11.001,21.592 10.992,21.599 L10.98,21.607 L10.976,21.61 L10.974,21.611 L10.974,21.612 C10.973,21.612 10.969,21.606 10.541,21.001 L10.973,21.612 C10.795,21.738 10.571,21.78 10.36,21.728 C8.258,21.208 6.346,20.279 4.9,18.574 C3.455,16.871 2.542,14.474 2.284,11.146 C2.263,10.889 2.378,10.639 2.586,10.485 C2.794,10.331 3.067,10.296 3.307,10.391 C5.129,11.113 6.917,11.264 9.208,10.385 L9.24,10.373 C9.783,10.165 10.236,9.991 10.607,9.884 C10.983,9.776 11.378,9.703 11.778,9.786 C12.161,9.866 12.471,10.061 12.755,10.291 C12.823,10.347 12.894,10.408 12.967,10.473 L20.485,2.486 C20.769,2.184 21.244,2.17 21.545,2.454 Z M11.022,11.325 C10.721,11.412 10.329,11.562 9.746,11.786 C7.549,12.628 5.686,12.659 3.9,12.17 C4.094,13.591 4.429,14.763 4.872,15.734 C4.91,15.737 4.954,15.74 5.002,15.743 C5.237,15.756 5.581,15.756 5.998,15.703 C6.83,15.596 7.948,15.274 9.073,14.406 C9.401,14.153 9.872,14.214 10.125,14.542 C10.378,14.87 10.318,15.341 9.989,15.594 C8.615,16.654 7.233,17.056 6.19,17.19 C6.035,17.21 5.888,17.224 5.75,17.234 C5.845,17.362 5.943,17.485 6.044,17.603 C7.149,18.906 8.615,19.695 10.359,20.177 C10.401,20.139 10.448,20.096 10.498,20.047 C10.757,19.798 11.114,19.411 11.487,18.873 C12.23,17.802 13.04,16.127 13.245,13.743 C13.296,13.15 13.29,13.058 13.245,12.936 C13.202,12.818 13.127,12.722 12.637,12.237 C12.258,11.862 12.012,11.62 11.809,11.456 C11.616,11.299 11.524,11.266 11.471,11.255 C11.434,11.247 11.326,11.238 11.022,11.325 Z M5.281,7.25 C5.281,6.145 6.177,5.25 7.281,5.25 C8.386,5.25 9.281,6.145 9.281,7.25 C9.281,8.355 8.386,9.25 7.281,9.25 C6.177,9.25 5.281,8.355 5.281,7.25 Z M12.031,4 L12.031,4.1 C12.031,4.652 11.583,5.1 11.031,5.1 C10.479,5.1 10.031,4.652 10.031,4.1 L10.031,4 C10.031,3.448 10.479,3 11.031,3 C11.583,3 12.031,3.448 12.031,4 Z M7.281,6.75 C7.005,6.75 6.781,6.974 6.781,7.25 C6.781,7.526 7.005,7.75 7.281,7.75 C7.557,7.75 7.781,7.526 7.781,7.25 C7.781,6.974 7.557,6.75 7.281,6.75 Z" />
      </svg>
      {{ 'CLEAR_ITINERARY' | translate }}
    </button>
  </section>
  @for (interest of myInterests; track interest.id) {
    <app-park-item-component
      [interestDto]="interest"
    ></app-park-item-component>
  }
</section>

@if (showPopup) {
  <div class="itinerary-popup">
    <form [formGroup]="itineraryForm" (ngSubmit)="generateItinerary()" class="itinerary-form">
      <article>
        <h2>{{ 'DOWNLOAD_ITINERARY_TITLE' | translate }}</h2>
        <p>{{ 'DOWNLOAD_ITINERARY_PARAGRAPH_1' | translate }}</p>
        <p>{{ 'DOWNLOAD_ITINERARY_PARAGRAPH_2' | translate }}</p>
      </article>

      <div class="input-group" [class.error]="isInvalid('email')">
        <label for="email">Email</label>
        <input name="email" type="email" placeholder="Email" formControlName="email" required>
        @if (isInvalid('email')) {
          <span class="error-message">{{ getErrorMessage('email') }}</span>
        }
      </div>
      <button class="primary-button" type="submit" [disabled]="itineraryForm.invalid">Subscribe</button>
      <svg (click)="showPopup = false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M12.75,22.75 C6.813,22.75 2,17.937 2,12 C2,6.063 6.813,1.25 12.75,1.25 C18.687,1.25 23.5,6.063 23.5,12 C23.5,17.937 18.687,22.75 12.75,22.75 Z M3.5,12 C3.5,17.109 7.641,21.25 12.75,21.25 C17.859,21.25 22,17.109 22,12 C22,6.891 17.859,2.75 12.75,2.75 C7.641,2.75 3.5,6.891 3.5,12 Z M10.28,8.47 L12.75,10.94 L15.22,8.47 C15.512,8.177 15.987,8.177 16.28,8.47 C16.573,8.763 16.573,9.237 16.28,9.53 L13.811,12 L16.28,14.47 C16.573,14.763 16.573,15.238 16.28,15.53 C15.987,15.823 15.512,15.823 15.219,15.53 L12.75,13.061 L10.281,15.53 C9.988,15.823 9.513,15.823 9.22,15.53 C8.927,15.238 8.927,14.763 9.22,14.47 L11.689,12 L9.22,9.53 C8.927,9.237 8.927,8.763 9.22,8.47 C9.513,8.177 9.987,8.177 10.28,8.47 Z" />
      </svg>
    </form>
  </div>
}

<app-footer-component></app-footer-component>
