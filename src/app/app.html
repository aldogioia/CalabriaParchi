<header>
  <section class="header-actions">
    <button (click)="isMenuOpen = !isMenuOpen" class="header-item">
      <span>Menu</span>
    </button>
    <h3 (click)="redirectTo('/home')">
      Calabriaparchi<span style="color: var(--brand-strong)">.</span>it
    </h3>
    <button (click)="changeLanguage()" class="header-item">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path d="M1.25,12 C1.25,6.072 6.072,1.25 12,1.25 L12,1.25 C17.928,1.25 22.75,6.072 22.75,12 C22.75,17.928 17.928,22.75 12,22.75 C6.072,22.75 1.25,17.928 1.25,12 Z M15.049,9.75 L8.951,9.75 C8.824,10.461 8.75,11.213 8.75,12 C8.75,12.787 8.824,13.539 8.951,14.25 L15.049,14.25 C15.176,13.539 15.25,12.787 15.25,12 C15.25,11.213 15.176,10.461 15.049,9.75 Z M7.426,9.75 L3.027,9.75 C2.846,10.47 2.75,11.224 2.75,12 C2.75,12.776 2.846,13.53 3.027,14.25 L7.426,14.25 C7.314,13.536 7.25,12.785 7.25,12 C7.25,11.215 7.314,10.464 7.426,9.75 Z M20.973,9.75 L16.575,9.75 C16.687,10.464 16.751,11.215 16.751,12 C16.751,12.785 16.687,13.536 16.575,14.25 L20.973,14.25 C21.154,13.53 21.25,12.776 21.25,12 C21.25,11.224 21.154,10.47 20.973,9.75 Z M10.286,21.091 C9.445,19.922 8.362,18.087 7.743,15.75 L3.545,15.75 C4.762,18.484 7.268,20.523 10.286,21.091 Z M3.545,8.25 L7.742,8.25 C8.361,5.913 9.444,4.079 10.285,2.909 C7.267,3.478 4.762,5.516 3.545,8.25 Z M20.455,8.25 C19.238,5.517 16.733,3.478 13.716,2.91 C14.556,4.079 15.639,5.913 16.258,8.25 Z M13.716,21.09 C16.733,20.522 19.238,18.483 20.455,15.75 L16.258,15.75 C15.639,18.087 14.557,19.921 13.716,21.09 Z M9.309,8.25 L14.691,8.25 C13.966,5.828 12.711,4.028 12,3.143 C11.289,4.028 10.034,5.828 9.309,8.25 Z M12,20.857 C12.711,19.972 13.966,18.172 14.691,15.75 L9.309,15.75 C10.034,18.172 11.289,19.971 12,20.857 Z" />
      </svg>
      <span>{{language}}</span>
    </button>
  </section>
  @if (isMenuOpen) {
    <section class="menu to-reveal">
      <ng-container *ngTemplateOutlet="destinations"></ng-container>
      <ng-container *ngTemplateOutlet="share"></ng-container>
      <ng-container *ngTemplateOutlet="itinerary"></ng-container>
      <svg (click)="isMenuOpen = false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
        <path fill="#141B34" d="M12.75,22.75 C6.813,22.75 2,17.937 2,12 C2,6.063 6.813,1.25 12.75,1.25 C18.687,1.25 23.5,6.063 23.5,12 C23.5,17.937 18.687,22.75 12.75,22.75 Z M3.5,12 C3.5,17.109 7.641,21.25 12.75,21.25 C17.859,21.25 22,17.109 22,12 C22,6.891 17.859,2.75 12.75,2.75 C7.641,2.75 3.5,6.891 3.5,12 Z M10.28,8.47 L12.75,10.94 L15.22,8.47 C15.512,8.177 15.987,8.177 16.28,8.47 C16.573,8.763 16.573,9.237 16.28,9.53 L13.811,12 L16.28,14.47 C16.573,14.763 16.573,15.238 16.28,15.53 C15.987,15.823 15.512,15.823 15.219,15.53 L12.75,13.061 L10.281,15.53 C9.988,15.823 9.513,15.823 9.22,15.53 C8.927,15.238 8.927,14.763 9.22,14.47 L11.689,12 L9.22,9.53 C8.927,9.237 8.927,8.763 9.22,8.47 C9.513,8.177 9.987,8.177 10.28,8.47 Z" />
      </svg>
    </section>
  }
</header>

<main>
  <router-outlet></router-outlet>
</main>

<ng-template #destinations>
  <div class="container">
    <h4>{{ "DESTINATIONS" | translate }}</h4>
    @for (park of parks; track park.id){
      <a (click)="redirectTo('/park', park)">{{ park.name }}</a>
    }
  </div>
</ng-template>

<ng-template #share>
  <div class="container">
    <h4>{{ "COMMUNITY" | translate }}</h4>
    <a (click)="redirectTo('/share-experience')">
      Condividi la tua esperienza</a>
    <a (click)="redirectTo('/community')">
      Esperienze della community</a>
  </div>
</ng-template>

<ng-template #itinerary>
  <div class="container">
    <h4>{{ "ITINERARIES" | translate }}</h4>
    <a (click)="redirectTo('/my-itinerary')">Il tuo itinerario</a>
    <a (click)="redirectTo('/itineraries')">Esplora nuove tappe</a>
  </div>
</ng-template>
